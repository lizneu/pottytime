exports.onConnect = function(db){
	var collection = db.get('pottys');
	//Returns a function to handle a connection to a socket
	return function(socket) {
		socket.on("detailed", function(data) {
			var potty = collection.find({ _id: data.id }, {}, function(e, docs) {
				socket.emit("detailed", potty);
			});
		});
	}
};